{% extends "base.html" %}
{% load static %}

{% block content %}
    <div class="content-container">
        <div class="type-tasks">
            <a href="#" id="pending-tasks">Pending tasks</a>
            <a href="#" id="completed-tasks">Completed tasks</a>
        </div>

        <div id="pending-tasks-section">
            {% for task in pending_tasks %}
                <div class="task-card" onclick="this.classList.toggle('flipped')">
                    <div class="task-card-inner">
                        <div class="task-card-front">
                            <h3>{{ task.name }}</h3>
                            <p class="date">Created at: {{ task.created_at }}</p>
                            <p class="status">Status: {{ task.status }}</p>
                        </div>
                        <div class="task-card-back">
                            <p class="desc">{{ task.description }}</p>
                        </div>
                    </div>

                </div>
            {% empty %}
                <h1> No tasks to show</h1>
            {% endfor %}
        </div>
        <div id="completed-tasks-section">
            {% for task in completed_tasks %}
                <div class="task-card" onclick="this.classList.toggle('flipped')">
                  <div class="task-card-inner">
                    <div class="task-card-front">
                      <h3>{{ task.name }}</h3>
                      <p class="date">Created at: {{ task.created_at }}</p>
                      <p class="status">Status: {{ task.status }}</p>
                      <p class="date">{{ task.accomplished_at }}</p>
                    </div>
                    <div class="task-card-back">
                     <div class="content-container">
        <div class="type-tasks">
            <a href="#" id="pending-tasks">Pending tasks</a>
            <a href="#" id="completed-tasks">Completed tasks</a>
        </div>

        <div id="pending-tasks-section">
            {% for task in pending_tasks %}
                <div class="task-card" onclick="this.classList.toggle('flipped')">
                    <div class="task-card-inner">
                        <div class="task-card-front">
                            <h3>{{ task.name }}</h3>
                            <p class="date">Created at: {{ task.created_at }}</p>
                            <p class="status">Status: {{ task.status }}</p>
                        </div>
                        <div class="task-card-back">
                            <p class="desc">{{ task.description }}</p>
                        </div>
                    </div>

                </div>
            {% empty %}
                <h1> No tasks to show</h1>
            {% endfor %}
        </div>
        <div id="completed-tasks-section d-flex">
            {% for task in completed_tasks %}
                <div class="task-card" onclick="this.classList.toggle('flipped')">
                  <div class="task-card-inner">
                    <div class="task-card-front">
                      <h3>{{ task.name }}</h3>
                      <p class="date">Created at: {{ task.created_at }}</p>
                      <p class="status">Status: {{ task.status }}</p>
                      <p class="date">{{ task.accomplished_at }}</p>
                    </div>
                    <div class="task-card-back">
                      <p class="desc">{{ task.description }}</p>
                    </div>
                  </div>
                </div>
            {% empty %}
                <h1> No tasks to show</h1>
            {% endfor %}
        </div>
    </div>
                      <p class="desc">{{ task.description }}</p>
                    </div>
                  </div>
                </div>
            {% empty %}
                <h1> No tasks to show</h1>
            {% endfor %}
        </div>
    </div>

<script>
    const pendingTasks = document.getElementById("pending-tasks");
    const completedTasks = document.getElementById("completed-tasks");
    const pendingTasksSection = document.getElementById("pending-tasks-section");
    const completedTasksSection = document.getElementById("completed-tasks-section");

    function showPendingTasks() {
        pendingTasksSection.style.display = "flex";
        completedTasksSection.style.display = "none";
        pendingTasksSection.classList.add("active");
        completedTasksSection.classList.remove("active");

    }

    function showCompletedTasks() {
        pendingTasksSection.style.display = "none";
        completedTasksSection.style.display = "flex";
        pendingTasksSection.classList.remove("active");
        completedTasksSection.classList.add("active");

    }

    showPendingTasks();

    pendingTasks.addEventListener('click', showPendingTasks);
    completedTasks.addEventListener('click', showCompletedTasks);


</script>

{% endblock %}